<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang xml:lang>
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="author" content="Cormac Flanagan (UC, Santa Cruz)" />
  <meta name="author" content="Stephen Freund (Williams College)" />
  <title>Installing Anchor From Source</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <style type="text/css">
html {
font-size: 100%;
overflow-y: scroll;
-webkit-text-size-adjust: 100%;
-ms-text-size-adjust: 100%;
}
body {
color: #222;
font-family: Palatino, 'Palatino Linotype', Times, 'Times New Roman', serif;
font-size: 12px;
line-height: 1.7;
padding: 1em;
margin: auto;
max-width: 65em;
background: #fefefe;
}
a {
color: #0645ad;
text-decoration: none;
}

a:hover {
color: #06e;
}
a:active {
color: #faa700;
}
a:focus {
outline: thin dotted;
}
*::-moz-selection {
background: rgba(255, 255, 0, 0.3);
color: #000;
}
*::selection {
background: rgba(255, 255, 0, 0.3);
color: #000;
}
a::-moz-selection {
background: rgba(255, 255, 0, 0.3);
color: #0645ad;
}
a::selection {
background: rgba(255, 255, 0, 0.3);
color: #0645ad;
}
p {
margin: 1em 0;
}
img {
max-width: 100%;
}
h1, h2, h3, h4, h5, h6 {
color: #111;
line-height: 125%;
margin-top: 2em;
font-weight: normal;
}
h5, h6 {
margin-bottom: -0.5em;
}
h4, h5, h6 {
font-weight: bold;
}
h1 {
font-size: 2.5em;
padding-bottom: 0.1em;
padding-top: 0.3em;
border-bottom: 5px #000091 solid;
border-top: 5px #000091 solid;
}
h2 {
font-size: 2em;
}
h3 {
font-size: 1.5em;
}
h4 {
font-size: 1.2em;
}
h5 {
font-size: 1em;
}
h6 {
font-size: 0.9em;
}
blockquote {
color: #666666;
margin: 0;
padding-left: 3em;
border-left: 0.5em #EEE solid;
}
hr {
display: block;
height: 5px;
border: 0;
border-top: 1px solid #aaa;
border-bottom: 1px solid #eee;
margin: 1em 0;
padding: 0;
}
pre, code, kbd, samp {
line-height: 1.25;
color: #000;
background-color: #EFEFEF;
font-family: monospace, monospace;
_font-family: 'courier new', monospace;
font-size: 0.98em;
}
pre {
white-space: pre;
white-space: pre-wrap;
word-wrap: break-word;
padding: 0.25em 0.25em;
}
b, strong {
font-weight: bold;
}
dfn {
font-style: italic;
}
ins {
background: #ff9;
color: #000;
text-decoration: none;
}
mark {
background: #ff0;
color: #000;
font-style: italic;
font-weight: bold;
}
sub, sup {
font-size: 75%;
line-height: 0;
position: relative;
vertical-align: baseline;
}
sup {
top: -0.5em;
}
sub {
bottom: -0.25em;
}
ul, ol {
margin: 1em 0;
padding: 0 0 0 2em;
}
li p:last-child {
margin-bottom: 0;
}
ul ul, ol ol {
margin: .3em 0;
}
dl {
margin-bottom: 1em;
}
dt {
font-weight: bold;
margin-bottom: .8em;
}
dd {
margin: 0 0 .8em 2em;
}
dd:last-child {
margin-bottom: 0;
}
img {
border: 0;
-ms-interpolation-mode: bicubic;
vertical-align: middle;
}
figure {
display: block;
text-align: center;
margin: 1em 0;
}
figure img {
border: none;
margin: 0 auto;
}
figcaption {
font-size: 0.8em;
font-style: italic;
margin: 0 0 .8em;
}
table {
margin-bottom: 2em;
border-bottom: 1px solid #ddd;
border-right: 1px solid #ddd;
border-spacing: 0;
border-collapse: collapse;
}
table th {
padding: .2em 1em;
background-color: #eee;
border-top: 1px solid #ddd;
border-left: 1px solid #ddd;
}
table td {
padding: .2em 1em;
border-top: 1px solid #ddd;
border-left: 1px solid #ddd;
vertical-align: top;
}
.author {
line-height: 0.75;
font-size: 1.5em;
text-align: center;
}
@media only screen and (min-width: 480px) {
body {
font-size: 16px;
}
}
@media only screen and (min-width: 768px) {
body {
font-size: 18px;
}
}
@media print {
* {
background: transparent !important;
color: black !important;
filter: none !important;
-ms-filter: none !important;
}
body {
font-size: 12pt;
max-width: 100%;
}
a, a:visited {
text-decoration: underline;
}
hr {
height: 1px;
border: 0;
border-bottom: 1px solid black;
}
a[href]:after {
content: " (" attr(href) ")";
}
abbr[title]:after {
content: " (" attr(title) ")";
}
.ir a:after, a[href^="javascript:"]:after, a[href^="#"]:after {
content: "";
}
pre, blockquote {
border: 1px solid #999;
padding-right: 1em;
page-break-inside: avoid;
}
tr, img {
page-break-inside: avoid;
}
img {
max-width: 100% !important;
}
@page :left {
margin: 15mm 20mm 15mm 10mm;
}
@page :right {
margin: 15mm 10mm 15mm 20mm;
}
p, h2, h3 {
orphans: 3;
widows: 3;
}
h2, h3 {
page-break-after: avoid;
}
}
code span.dt { color: #000000; } 
code span.va { color: #1917Ac; } 
div.sourceCode {background-color: #EFEFEF;}
</style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header id="title-block-header">
<h1 class="title">Installing Anchor From Source</h1>
<p class="author">Cormac Flanagan (UC, Santa Cruz)</p>
<p class="author">Stephen Freund (Williams College)</p>
</header>
<p>These instructions install the version of Anchor presented in our paper. We have used them on computers running either Mac OSX 10.15 or Ubuntu 16. You may need to make some adjustments, depending on your operating system and/or local environment.</p>
<ol type="1">
<li><p>Install JDK 8 — <a href="https://www.oracle.com/java/technologies/javase/javase-jdk8-downloads.html">https://www.oracle.com/java/technologies/javase/javase-jdk8-downloads.html</a></p></li>
<li><p>Install scala 2.12.8 — <a href="https://www.scala-lang.org/download/2.12.8.html">https://www.scala-lang.org/download/2.12.8.html</a></p></li>
<li><p>Install Mono — <a href="https://www.mono-project.com/download/stable/">https://www.mono-project.com/download/stable/</a></p></li>
<li><p>Get our code:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode diff"><code class="sourceCode diff"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true"></a><span class="va">&gt; git clone https://github.com/stephenfreund/Synchronicity.git</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true"></a><span class="va">&gt; cd Synchronicity</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true"></a><span class="va">&gt; git checkout oopsla</span></span></code></pre></div></li>
<li><p>Get Boogie:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode diff"><code class="sourceCode diff"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true"></a><span class="va">&gt; cd Synchronicity/workspace/Synchronicity/</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true"></a><span class="va">&gt; git clone https://github.com/boogie-org/boogie.git</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true"></a><span class="va">&gt; cd boogie/</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true"></a><span class="va">&gt; git checkout 74ba82c0408e24dc203e7368b53fefd8df27e04c</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true"></a><span class="va">&gt; wget https://dist.nuget.org/win-x86-commandline/latest/nuget.exe</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true"></a><span class="va">&gt; mono ./nuget.exe restore Source/Boogie.sln</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true"></a><span class="va">&gt; xbuild Source/Boogie.sln</span></span></code></pre></div></li>
<li><p>Get Z3:</p>
<ul>
<li>Download from <a href="https://github.com/Z3Prover/z3/releases/tag/z3-4.8.6">https://github.com/Z3Prover/z3/releases/tag/z3-4.8.6</a></li>
<li>Install it in <code>Synchronicity/workspace/Synchronicity/z3/</code></li>
</ul></li>
<li><p>Link Z3 to where Boogie expects it:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode diff"><code class="sourceCode diff"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true"></a><span class="va">&gt; cd Synchronicity/workspace/Synchronicity/boogie/</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true"></a><span class="va">&gt; ln -s `pwd`/../z3/bin/z3 Binaries/z3.exe</span></span></code></pre></div></li>
<li><p>Ensure Boogie and Z3 work:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode diff"><code class="sourceCode diff"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true"></a><span class="va">&gt; cd Synchronicity/workspace/Synchronicity/</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true"></a><span class="va">&gt; ./bpl</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true"></a><span class="va">&gt; ./z3/bin/z3</span></span></code></pre></div>
<p>If you get errors about z3 being corrupted on OS X, go to the Security System Preferences and say it’s ok to run that program.</p></li>
<li><p>Test Anchor:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode diff"><code class="sourceCode diff"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true"></a><span class="va">&gt; cd Synchronicity/workspace/Synchronicity/</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true"></a><span class="va">&gt; make</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true"></a><span class="va">&gt; source msetup</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true"></a><span class="va">&gt; anchor tests/ok1.anchor</span></span></code></pre></div></li>
<li><p>Run unit Tests (about 15 minutes):</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode diff"><code class="sourceCode diff"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true"></a><span class="va">&gt; cd Synchronicity/workspace/Synchronicity/</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true"></a><span class="va">&gt; make tests</span></span></code></pre></div></li>
<li><p>Run Benchmark Tests:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode diff"><code class="sourceCode diff"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true"></a><span class="va">&gt; cd Synchronicity/workspace/Synchronicity/</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true"></a><span class="va">&gt; # verify each a single time</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true"></a><span class="va">&gt; ./anchor-benchmarks</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true"></a><span class="va">&gt; # verify each 10 times and print out latex table</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true"></a><span class="va">&gt; ./anchor-benchmarks -n=10  </span></span></code></pre></div></li>
</ol>
</body>
</html>
